<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<link rel="shortcut icon" href="NdcLogo4848.ico" type="image/x-icon">
        <meta name="viewport" content="width=device-width, initial-scale=1">
		<title>Vial (Ndc) 虚拟股票系统</title>
		<link rel="stylesheet" type="text/css" href="index_style.css">
		<script type="text/javascript" src="echarts.js"></script>
		<ul class="gray">
			<li class="av"><img src="NdcLogo4848.ico"></li>
  			<li class="s"><a>Vial 虚拟股票系统</a></li>
  			<li class="av"><a href="index.html">主页</a></li>
  			<li class="av"><a href="news.html">新闻</a></li>
  			<li class="av"><a href="mygp.html">我的股票</a></li>
  			<li class="av"><a href="buy.html">购买股票</a></li>
  			<li class="av acc"><a href="upld.html">充值</a></li>
			<li class="av"><a href="chnm.html">更改账户名</a></li>
  			<li class="rightli av"><a href="https://space.bilibili.com/3461576468203796">Vial频道出品</a></li>
  			<li class="rightli s"><a id="cnt"></a></li>
		</ul>
	</head>
	<body>
    	<script type="text/javascript">
        	if(typeof(Storage)!=="undefined")
        	{
        	    if(isNaN(Number(localStorage.money)))
    			{
    				localStorage.money=0;
    			}
    			if(isNaN(Number(localStorage.us)))
    			{
    				localStorage.us="";
    			}
        	    let nnn=Number(localStorage.money);
        	    document.addEventListener("DOMContentLoaded", function(){
        	        document.getElementById("cnt").innerText = "你好，"+localStorage.name+"。您还剩余约 " + nnn.toFixed(2) + " Orgent币。";
        	        document.getElementById("cnt1").innerText = "您的Ndc ID当前还剩余 " + nnn.toFixed(2) + " Orgent币。";
        	    });
        	}
        	else
        	{
        	    document.addEventListener("DOMContentLoaded", function() {
        	        alert("您的设备可能不支持 localStorge，暂时无法正常使用 Ndc股票系统。")
        	    });
        	}
        	//localStorage.money=0;
        	function Check(isc)
        	{
        		var code=document.getElementById("code");
        		var value=code.value;
        		if(Number(value)%237==0&&Number(value)>0)
        		{
        			document.getElementById("otp").innerText = "本兑换码你可以兑换 10 Orgent币。";
        		}
				else if(Number(value)%331==0&&Number(value)>0)
				{
					document.getElementById("otp").innerText = "本兑换码你可以兑换 50 Orgent币。";
				}
        		if(isc==true)
        		{
        			let ss=String(localStorage.us);
        			if(ss.indexOf(String(value))!=-1)
        			{
        				alert("该兑换码已经被使用，不能用于兑换。");
        			}
        			else if(Number(value)%237==0&&Number(value)>0&&Number(value)!=Number(localStorage.us)&&Number(value)>10000)
        			{
        				document.getElementById("otp").innerText = "本兑换码你可以兑换 10 Orgent币。";
        				localStorage.money=Number(localStorage.money)+10;
        				code.innerText="";
						var s=String(localStorage.us);
        				s=String(s)+String(value);
        				localStorage.us=s;
        				alert("已成功兑换 10 Orgent币。余额 " + localStorage.money + " Orgent币。");
        				window.location.href="./index.html";
        			}
					else if(Number(value)%331==0&&Number(value)>0&&Number(value)!=Number(localStorage.us)&&Number(value)>10000)
        			{
        				document.getElementById("otp").innerText = "本兑换码你可以兑换 50 Orgent币。";
        				localStorage.money=Number(localStorage.money)+50;
        				code.innerText="";
						var s=String(localStorage.us);
        				s=String(s)+String(value);
        				localStorage.us=s;
        				alert("已成功兑换 50 Orgent币。余额 " + localStorage.money + " Orgent币。");
        				window.location.href="./index.html";
        			}
        			else
        			{
        				alert("兑换码无效。请向Orgent-Ndc寻求兑换码。");
        			}
        		}
        	}
    	</script>
    	<h1>给你的 Ndc ID 充值。</h1>
    	<p align="center" id="cnt1"></p>
    	<p>&nbsp;</p>
    	<p></p>
    	<center><div class="form-control">
    		<input type="value" required="" id="code" onkeyup="javascript:Check(false)">
    		<label>
        		<span style="transition-delay:0ms">充</span><span style="transition-delay:50ms">值</span><span style="transition-delay:100ms">兑</span><span style="transition-delay:150ms">换</span><span style="transition-delay:200ms">码</span>
    		</label>
		</div><button class="btn" onclick="javascript:Check(true)">充值</button></center>
		<p>&nbsp;</p>
		<p>没有兑换码？<a href="https://space.bilibili.com/3461576468203796">点击此处</a>去B站 Orgent-Ndc 私信要兑换码 有时候免费送</p>
		<p>&nbsp;</p>
		<p id="otp"></p>
	</body>

</html>




